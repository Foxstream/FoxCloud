<div class="content-wrapper">
  <section class="content">
    <div class="row">
      <section class="col-md-12">
	<div class="box">

	  <div class="box-header with-border row">
	    <div class="col-md-12 col-xs-12">
	      <h3 class="box-title">
		<i class="fa fa-book box-title"></i>
		<span> Profile settings</span>
	      </h3>
	    </div>	      
	  </div>


	  <div class="box-body">

	    <div class="form-group">
	      <label>email: </label>
	      <input class="form-control"  type='email' ng-model='email' ng-disabled="true"/> 
	    </div>						

	    <form name="userProfileForm">
	      <div class="panel panel-default">
		<div class="panel-heading">								
		  <div>Display settings</div> 
		</div>
		<div class="panel-body">				    
		  <div class="form-group">
		    <label>Display name: </label>
		    <input class="form-control"  type="text" name="username" ng-minlength="1" ng-model="username" required/>
		    <div class="help-inline"> 
		      <span ng-show="userProfileForm.username.$error.required">Must contain at least 1 character.</span>
		    </div>
		  </div>						
		  <button class='btn btn-primary'
			  ng-click="updateDisplayData()"
			  ng-disabled="!userProfileForm.$valid">Update</button>
		</div>
	      </div>
	    </form>

	    <form name="userSecurityForm">
	      <div class="panel panel-default">
		<div class="panel-heading">				
		  <div>Security settings</div>
		</div>
		<div class="panel-body">			
		  <div class="form-group">
		    <label>Old password: </label>
		    <input class="form-control"  type="password"
			   ng-minlength="1"
			   name="oldPassword"
			   ng-model="oldPassword"
			   required/>
		    <div class="help-inline"> 
		      <span ng-show="userSecurityForm.oldPassword.$error.required">Password Required.</span>
		    </div>
		  </div>
		  <div class="form-group">
		    <label>New password: </label>
		    <input class="form-control"
			   type="password"
			   name="newPassword"
			   ng-model="newPassword"
			   valid-password
			   required/>
		    <div class="help-inline">
                      <span ng-show="userSecurityForm.newPassword.$error.isBlank">Password Required.</span>
                      <span ng-show="userSecurityForm.newPassword.$error.isWeak">Must contain one upper or lower case letter and a non-letter (number or symbol.)</span> 
                      <span ng-show="userSecurityForm.newPassword.$error.invalidLen">Must be 6-20 characters.</span>
		    </div>
		  </div>
		  <div class="form-group">
		    <label>Retype new password: </label>
		    <input class="form-control"
			   type="password"
			   name="newPassword2"
			   ng-model="newPassword2"
			   password-c="newPassword"
			   valid-password-c
			   required/>
		    <div class="help-inline"> 
		      <span ng-show="userSecurityForm.newPassword2.$error.isBlank">Confirmation Required.</span>
                      <span ng-show="userSecurityForm.newPassword2.$error.noMatch">Passwords don't match.</span>
		    </div>
		  </div>    
		  <button class='btn btn-primary'
			  ng-click="updatePassword()"
			  ng-disabled="!userSecurityForm.$valid">Update</button>
		</div>
		<div class="alert alert-danger" role="alert" ng-show='message'>{{message}}</div>
	      </div>
	    </form>
	  </div>

	</div>
      </section>      
    </div>     
  </section>
</div>
